<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Execute one run of the Iterated Racing algorithm. — irace • irace</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Execute one run of the Iterated Racing algorithm. — irace"><meta name="description" content="The function irace implements the Iterated Racing procedure for parameter
tuning. It receives a configuration scenario and a parameter space to be
tuned, and returns the best configurations found, namely, the elite
configurations obtained from the last iterations. As a first step, it checks
the correctness of scenario using checkScenario() and recovers a
previous execution if scenario$recoveryFile is set. A R data file log of
the execution is created in scenario$logFile."><meta property="og:description" content="The function irace implements the Iterated Racing procedure for parameter
tuning. It receives a configuration scenario and a parameter space to be
tuned, and returns the best configurations found, namely, the elite
configurations obtained from the last iterations. As a first step, it checks
the correctness of scenario using checkScenario() and recovers a
previous execution if scenario$recoveryFile is set. A R data file log of
the execution is created in scenario$logFile."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">irace</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">4.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../irace-package.pdf">User Guide</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lopez-ibanez.eu/2024-redheur/">Tutorial</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://cloud.r-project.org/package=irace" aria-label="CRAN"><span class="fa fab fa-r-project"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MLopez-Ibanez/irace/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Execute one run of the Iterated Racing algorithm.</h1>
      <small class="dont-index">Source: <a href="https://github.com/MLopez-Ibanez/irace/blob/master/R/irace.R" class="external-link"><code>R/irace.R</code></a></small>
      <div class="d-none name"><code>irace.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>irace</code> implements the Iterated Racing procedure for parameter
tuning. It receives a configuration scenario and a parameter space to be
tuned, and returns the best configurations found, namely, the elite
configurations obtained from the last iterations. As a first step, it checks
the correctness of <code>scenario</code> using <code><a href="checkScenario.html">checkScenario()</a></code> and recovers a
previous execution if <code>scenario$recoveryFile</code> is set. A R data file log of
the execution is created in <code>scenario$logFile</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">irace</span><span class="op">(</span><span class="va">scenario</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-scenario">scenario<a class="anchor" aria-label="anchor" href="#arg-scenario"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code><br> Data structure containing <span class="pkg">irace</span>
settings. The data structure has to be the one returned by the function
<code><a href="defaultScenario.html">defaultScenario()</a></code> or <code><a href="readScenario.html">readScenario()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>(<code>data.frame</code>)</p>
<p>A data frame with the set of best algorithm configurations found by <span class="pkg">irace</span>.
The data frame has the following columns:</p><ul><li><p><code>.ID.</code> : Internal id of the candidate configuration.</p></li>
<li><p><code>Parameter names</code> : One column per parameter name in <code>parameters</code>.</p></li>
<li><p><code>.PARENT.</code> : Internal id of the parent candidate configuration.</p></li>
</ul><p>Additionally, this function saves an R data file containing an object called
<code>iraceResults</code>. The path of the file is indicated in <code>scenario$logFile</code>.
The <code>iraceResults</code> object is a list with the following structure:</p>
<dl><dt><code>scenario</code></dt>
<dd><p>The scenario R object containing the <span class="pkg">irace</span>
options used for the execution. See <code><a href="defaultScenario.html">defaultScenario</a></code>
for more information. The element <code>scenario$parameters</code> contains the parameters R object that describes the target algorithm parameters. See
<code><a href="readParameters.html">readParameters</a></code>.</p></dd>


<dt><code>allConfigurations</code></dt>
<dd><p>The target algorithm configurations
generated by <span class="pkg">irace</span>. This object is a data frame, each row is a
candidate configuration, the first column (<code>.ID.</code>) indicates the
internal identifier of the configuration, the following columns
correspond to the parameter values, each column named as the parameter
name specified in the parameter object. The final column
(<code>.PARENT.</code>)  is the identifier of the configuration from which
model the actual configuration was sampled.</p></dd>


<dt><code>allElites</code></dt>
<dd><p>A list that contains one element per iteration,
each element contains the internal identifier of the elite candidate
configurations of the corresponding iteration (identifiers correspond to
<code>allConfigurations$.ID.</code>).</p></dd>


<dt><code>iterationElites</code></dt>
<dd><p>A vector containing the best candidate
configuration internal identifier of each iteration. The best
configuration found corresponds to the last one of this vector.</p></dd>


<dt><code>experiments</code></dt>
<dd><p>A matrix with configurations as columns and
instances as rows. Column names correspond to the internal identifier of
the configuration (<code>allConfigurations$.ID.</code>).</p></dd>


<dt><code>experimen_log</code></dt>
<dd><p>A <code>data.table</code> with columns <code>iteration</code>,
<code>instance</code>, <code>configuration</code>, <code>time</code>.  This matrix contains the log of all the
experiments that <span class="pkg">irace</span> performs during its execution.  The
instance column refers to the index of the <code>race_state$instances_log</code>
data frame. Time is saved ONLY when reported by the <code>targetRunner</code>.</p></dd>


<dt><code>softRestart</code></dt>
<dd><p>A logical vector that indicates if a soft
restart was performed on each iteration. If <code>FALSE</code>, then no soft
restart was performed.</p></dd>


<dt><code>state</code></dt>
<dd><p>An environment that contains the state of <span class="pkg">irace</span>, the
recovery is done using the information contained in this object.</p></dd>


<dt><code>testing</code></dt>
<dd><p>A list that contains the testing results. The
elements of this list are: <code>experiments</code> a matrix with the testing
experiments of the selected configurations in the same format as the
explained above and <code>seeds</code> a vector with the seeds used to execute
each experiment.</p></dd>



</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The execution of this function is reproducible under some conditions. See
the FAQ section in the <a href="https://cran.r-project.org/package=irace/vignettes/irace-package.pdf" class="external-link">User Guide</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<dl><dt><code><a href="irace_main.html">irace_main()</a></code></dt>
<dd><p>a higher-level interface to <code>irace()</code>.</p></dd>

<dt><code><a href="irace_cmdline.html">irace_cmdline()</a></code></dt>
<dd><p>a command-line interface to <code>irace()</code>.</p></dd>

<dt><code><a href="readScenario.html">readScenario()</a></code></dt>
<dd><p>for reading a configuration scenario from a file.</p></dd>

<dt><code><a href="readParameters.html">readParameters()</a></code></dt>
<dd><p>read the target algorithm parameters from a file.</p></dd>

<dt><code><a href="defaultScenario.html">defaultScenario()</a></code></dt>
<dd><p>returns the default scenario settings of <span class="pkg">irace</span>.</p></dd>

<dt><code><a href="checkScenario.html">checkScenario()</a></code></dt>
<dd><p>to check that the scenario is valid.</p></dd>


</dl></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Manuel López-Ibáñez and Jérémie Dubois-Lacoste</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># In general, there are three steps:</span></span></span>
<span class="r-in"><span><span class="va">scenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="readScenario.html">readScenario</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"scenario.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">irace</span><span class="op">(</span>scenario <span class="op">=</span> <span class="va">scenario</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co">#######################################################################</span></span></span>
<span class="r-in"><span><span class="co"># This example illustrates how to tune the parameters of the simulated</span></span></span>
<span class="r-in"><span><span class="co"># annealing algorithm (SANN) provided by the optim() function in the</span></span></span>
<span class="r-in"><span><span class="co"># R base package.  The goal in this example is to optimize instances of</span></span></span>
<span class="r-in"><span><span class="co"># the following family:</span></span></span>
<span class="r-in"><span><span class="co">#      f(x) = lambda * f_rastrigin(x) + (1 - lambda) * f_rosenbrock(x)</span></span></span>
<span class="r-in"><span><span class="co"># where lambda follows a normal distribution whose mean is 0.9 and</span></span></span>
<span class="r-in"><span><span class="co"># standard deviation is 0.02. f_rastrigin and f_rosenbrock are the</span></span></span>
<span class="r-in"><span><span class="co"># well-known Rastrigin and Rosenbrock benchmark functions (taken from</span></span></span>
<span class="r-in"><span><span class="co"># the cmaes package). In this scenario, different instances are given</span></span></span>
<span class="r-in"><span><span class="co"># by different values of lambda.</span></span></span>
<span class="r-in"><span><span class="co">#######################################################################</span></span></span>
<span class="r-in"><span><span class="co">## First we provide an implementation of the functions to be optimized:</span></span></span>
<span class="r-in"><span><span class="va">f_rosenbrock</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">z</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>  <span class="va">hz</span> <span class="op">&lt;-</span> <span class="va">z</span><span class="op">[</span><span class="fl">1L</span><span class="op">:</span><span class="op">(</span><span class="va">d</span> <span class="op">-</span> <span class="fl">1L</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="va">tz</span> <span class="op">&lt;-</span> <span class="va">z</span><span class="op">[</span><span class="fl">2L</span><span class="op">:</span><span class="va">d</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fl">100</span> <span class="op">*</span> <span class="op">(</span><span class="va">hz</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="va">tz</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="op">(</span><span class="va">hz</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">f_rastrigin</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">x</span> <span class="op">*</span> <span class="va">x</span> <span class="op">-</span> <span class="fl">10</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">cos</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">x</span><span class="op">)</span> <span class="op">+</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We generate 20 instances (in this case, weights):</span></span></span>
<span class="r-in"><span><span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">20</span>, mean <span class="op">=</span> <span class="fl">0.9</span>, sd <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## On this set of instances, we are interested in optimizing two</span></span></span>
<span class="r-in"><span><span class="co">## parameters of the SANN algorithm: tmax and temp. We setup the</span></span></span>
<span class="r-in"><span><span class="co">## parameter space as follows:</span></span></span>
<span class="r-in"><span><span class="va">parameters_table</span> <span class="op">&lt;-</span> <span class="st">'</span></span></span>
<span class="r-in"><span><span class="st">  tmax "" i,log (1, 5000)</span></span></span>
<span class="r-in"><span><span class="st">  temp "" r (0, 100)</span></span></span>
<span class="r-in"><span><span class="st">  '</span></span></span>
<span class="r-in"><span><span class="co">## We use the irace function readParameters to read this table:</span></span></span>
<span class="r-in"><span><span class="va">parameters</span> <span class="op">&lt;-</span> <span class="fu"><a href="readParameters.html">readParameters</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">parameters_table</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Next, we define the function that will evaluate each candidate</span></span></span>
<span class="r-in"><span><span class="co">## configuration on a single instance. For simplicity, we restrict to</span></span></span>
<span class="r-in"><span><span class="co">## three-dimensional functions and we set the maximum number of</span></span></span>
<span class="r-in"><span><span class="co">## iterations of SANN to 1000.</span></span></span>
<span class="r-in"><span><span class="va">target_runner</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">experiment</span>, <span class="va">scenario</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">instance</span> <span class="op">&lt;-</span> <span class="va">experiment</span><span class="op">$</span><span class="va">instance</span></span></span>
<span class="r-in"><span>    <span class="va">configuration</span> <span class="op">&lt;-</span> <span class="va">experiment</span><span class="op">$</span><span class="va">configuration</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="va">D</span> <span class="op">&lt;-</span> <span class="fl">3</span></span></span>
<span class="r-in"><span>    <span class="va">par</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">D</span>, min<span class="op">=</span><span class="op">-</span><span class="fl">1</span>, max<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="va">weight</span> <span class="op">&lt;-</span> <span class="va">instance</span></span></span>
<span class="r-in"><span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">weight</span> <span class="op">*</span> <span class="fu">f_rastrigin</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">weight</span><span class="op">)</span> <span class="op">*</span> <span class="fu">f_rosenbrock</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>    <span class="co"># For reproducible results, we should use the random seed given by</span></span></span>
<span class="r-in"><span>    <span class="co"># experiment$seed to set the random seed of the target algorithm.</span></span></span>
<span class="r-in"><span>    <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_seed.html" class="external-link">with_seed</a></span><span class="op">(</span><span class="va">experiment</span><span class="op">$</span><span class="va">seed</span>,</span></span>
<span class="r-in"><span>                     <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim</a></span><span class="op">(</span><span class="va">par</span>,<span class="va">fn</span>, method<span class="op">=</span><span class="st">"SANN"</span>,</span></span>
<span class="r-in"><span>                                  control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxit<span class="op">=</span><span class="fl">1000</span></span></span>
<span class="r-in"><span>                                             , tmax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">configuration</span><span class="op">[[</span><span class="st">"tmax"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                             , temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">configuration</span><span class="op">[[</span><span class="st">"temp"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                               <span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co">## This list may also contain:</span></span></span>
<span class="r-in"><span>    <span class="co">## - 'time' if irace is called with 'maxTime'</span></span></span>
<span class="r-in"><span>    <span class="co">## - 'error' is a string used to report an error</span></span></span>
<span class="r-in"><span>    <span class="co">## - 'outputRaw' is a string used to report the raw output of calls to</span></span></span>
<span class="r-in"><span>    <span class="co">##   an external program or function.</span></span></span>
<span class="r-in"><span>    <span class="co">## - 'call' is a string used to report how target_runner called the</span></span></span>
<span class="r-in"><span>    <span class="co">##   external program or function.</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cost <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We define a configuration scenario by setting targetRunner to the</span></span></span>
<span class="r-in"><span><span class="co">## function define above, instances to the first 10 random weights, and</span></span></span>
<span class="r-in"><span><span class="co">## a maximum budget of 'maxExperiments' calls to targetRunner.</span></span></span>
<span class="r-in"><span><span class="va">scenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>targetRunner <span class="op">=</span> <span class="va">target_runner</span>,</span></span>
<span class="r-in"><span>                 instances <span class="op">=</span> <span class="va">weights</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                 maxExperiments <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>                 <span class="co"># Do not create a logFile</span></span></span>
<span class="r-in"><span>                 logFile <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>                 parameters <span class="op">=</span> <span class="va">parameters</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We check that the scenario is valid. This will also try to execute</span></span></span>
<span class="r-in"><span><span class="co">## target_runner.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="checkIraceScenario.html">checkIraceScenario</a></span><span class="op">(</span><span class="va">scenario</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:53 UTC: Checking scenario</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## irace scenario:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> scenarioFile = "./scenario.txt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> execDir = "/home/runner/work/irace/irace/docs/reference"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parameterFile = "/home/runner/work/irace/irace/docs/reference/parameters.txt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parameters = &lt;environment&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> initConfigurations = NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> configurationsFile = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> logFile = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> recoveryFile = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> instances = c(0.894345891023711, 0.888926012326226, 0.91257964084072, 0.941300497907185, 0.867380211958355, 0.910248538997036, 0.862739770158633, 0.889559749705091, 0.898947961800922, 0.910859926853223)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trainInstancesDir = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> trainInstancesFile = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sampleInstances = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testInstancesDir = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testInstancesFile = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testInstances = NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testNbElites = 1L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testIterationElites = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> testType = "friedman"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> firstTest = 5L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> blockSize = 1L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> eachTest = 1L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetRunner = function (experiment, scenario) {    instance &lt;- experiment$instance    configuration &lt;- experiment$configuration    D &lt;- 3    par &lt;- runif(D, min = -1, max = 1)    fn &lt;- function(x) {        weight &lt;- instance        return(weight * f_rastrigin(x) + (1 - weight) * f_rosenbrock(x))    }    res &lt;- withr::with_seed(experiment$seed, stats::optim(par,         fn, method = "SANN", control = list(maxit = 1000, tmax = as.numeric(configuration[["tmax"]]),             temp = as.numeric(configuration[["temp"]]))))    return(list(cost = res$value))}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetRunnerLauncher = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetCmdline = "{configurationID} {instanceID} {seed} {instance} {bound} {targetRunnerArgs}"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetRunnerRetries = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetRunnerTimeout = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetRunnerData = ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetRunnerParallel = NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> targetEvaluator = NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> deterministic = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> maxExperiments = 500L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> minExperiments = NA_character_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> maxTime = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> budgetEstimation = 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> minMeasurableTime = 0.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parallel = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> loadBalancing = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mpi = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> batchmode = "0"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> quiet = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> debugLevel = 2L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> seed = NA_character_</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> softRestart = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> softRestartThreshold = 1e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> elitist = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> elitistNewInstances = 1L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> elitistLimit = 2L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> repairConfiguration = NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> capping = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cappingAfterFirstTest = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cappingType = "median"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> boundType = "candidate"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> boundMax = NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> boundDigits = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> boundPar = 1L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> boundAsTimeout = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> postselection = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> aclib = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nbIterations = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nbExperimentsPerIteration = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> minNbSurvival = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nbConfigurations = 0L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mu = 5L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> confidence = 0.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## end of irace scenario</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:53 UTC: Checking target runner.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:53 UTC: Executing targetRunner (2 times)...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # targetRunner returned:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$cost</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.725405013167655</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$cost</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 17.394187824647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:53 UTC: Check successful.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co">## We are now ready to launch irace. We do it by means of the irace</span></span></span>
<span class="r-in"><span><span class="co">## function. The function will print information about its</span></span></span>
<span class="r-in"><span><span class="co">## progress. This may require a few minutes, so it is not run by default.</span></span></span>
<span class="r-in"><span><span class="va">tuned_confs</span> <span class="op">&lt;-</span> <span class="fu">irace</span><span class="op">(</span>scenario <span class="op">=</span> <span class="va">scenario</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:53 UTC: Initialization</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Elitist race</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Elitist new instances: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Elitist limit: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbIterations: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # minNbSurvival: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbParameters: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # seed: 1278720907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # confidence level: 0.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # budget: 500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # mu: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # deterministic: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:53 UTC: Iteration 1 of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # experimentsUsed: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # remainingBudget: 500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # currentBudget: 166</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbConfigurations: 27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Markers:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      x No test is performed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      c Configurations are discarded only due to capping.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - The test is performed and some configurations are discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      = The test is performed but no configuration is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ! The test is performed and configurations could be discarded but elite configurations are preserved.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      . Alive configurations were already evaluated on this instance and nothing is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      : All alive configurations are elite, but some need to be evaluated on this instance.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | |   Instance|      Alive|       Best|       Mean best| Exp so far|  W time|  rho|KenW|  Qvar|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          1|         27|         21|   0.02737696070|         27|00:00:00|   NA|  NA|    NA|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          2|         27|          6|    0.3707229146|         54|00:00:00|+0.11|0.56|0.9005|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          3|         27|          8|    0.9896523391|         81|00:00:00|+0.21|0.47|0.8358|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          4|         27|          3|     2.019881568|        108|00:00:00|+0.21|0.40|0.8017|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-|          5|         17|         15|     1.503182815|        135|00:00:00|-0.05|0.16|0.9819|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          6|         17|         21|     1.633193966|        152|00:00:00|-0.02|0.15|0.9667|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best-so-far configuration:          21    mean value:      1.633193966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description of the best-so-far configuration:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .ID. tmax    temp .PARENT.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21   21   12 30.9332       NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:54 UTC: Elite configurations (first number is the configuration ID; listed from best to worst according to the sum of ranks):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tmax    temp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21   12 30.9332</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    28 40.3082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3 65.3082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:54 UTC: Iteration 2 of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # experimentsUsed: 152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # remainingBudget: 348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # currentBudget: 174</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbConfigurations: 27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Markers:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      x No test is performed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      c Configurations are discarded only due to capping.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - The test is performed and some configurations are discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      = The test is performed but no configuration is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ! The test is performed and configurations could be discarded but elite configurations are preserved.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      . Alive configurations were already evaluated on this instance and nothing is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      : All alive configurations are elite, but some need to be evaluated on this instance.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | |   Instance|      Alive|       Best|       Mean best| Exp so far|  W time|  rho|KenW|  Qvar|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          7|         27|         50|   0.02716132869|         27|00:00:00|   NA|  NA|    NA|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          6|         27|         29|    0.1116707068|         51|00:00:00|+0.09|0.54|1.1419|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          5|         27|         29|    0.6516258709|         75|00:00:00|-0.11|0.26|1.0862|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          4|         27|         29|    0.5837232852|         99|00:00:00|-0.08|0.19|0.9976|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          1|         27|         29|     1.058291352|        123|00:00:00|-0.00|0.20|0.9397|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          3|         27|         29|    0.8858098623|        147|00:00:00|+0.01|0.17|0.9632|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          2|         27|         29|    0.7701989144|        171|00:00:00|+0.01|0.15|0.9736|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best-so-far configuration:          29    mean value:     0.7701989144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description of the best-so-far configuration:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .ID. tmax    temp .PARENT.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   29    5 22.7613       21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:55 UTC: Elite configurations (first number is the configuration ID; listed from best to worst according to the sum of ranks):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tmax    temp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29    5 22.7613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39    3 62.3892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21   12 30.9332</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:55 UTC: Iteration 3 of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # experimentsUsed: 323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # remainingBudget: 177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # currentBudget: 177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbConfigurations: 24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Markers:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      x No test is performed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      c Configurations are discarded only due to capping.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - The test is performed and some configurations are discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      = The test is performed but no configuration is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ! The test is performed and configurations could be discarded but elite configurations are preserved.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      . Alive configurations were already evaluated on this instance and nothing is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      : All alive configurations are elite, but some need to be evaluated on this instance.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | |   Instance|      Alive|       Best|       Mean best| Exp so far|  W time|  rho|KenW|  Qvar|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          8|         24|         61|   0.02845033566|         24|00:00:00|   NA|  NA|    NA|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          1|         24|         70|   0.06101645944|         45|00:00:00|+0.16|0.58|0.8968|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          6|         24|         70|    0.1401384474|         66|00:00:00|+0.09|0.40|0.9089|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |x|          5|         24|         21|    0.2339498155|         87|00:00:00|+0.10|0.32|0.9357|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          7|         24|         70|    0.8009782052|        108|00:00:00|+0.07|0.26|0.9730|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          4|         24|         70|    0.6842251336|        129|00:00:00|+0.02|0.19|1.0083|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          3|         24|         70|    0.6494138345|        150|00:00:00|+0.03|0.17|1.0154|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          2|         24|         29|    0.6832859696|        171|00:00:00|+0.05|0.17|0.9761|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best-so-far configuration:          29    mean value:     0.6832859696</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description of the best-so-far configuration:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .ID. tmax    temp .PARENT.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   29    5 22.7613       21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:57 UTC: Elite configurations (first number is the configuration ID; listed from best to worst according to the sum of ranks):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tmax    temp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29    5 22.7613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70    6 22.0074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71   12 35.5064</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:57 UTC: Stopped because there is not enough budget left to race more than the minimum (3).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # You may either increase the budget or set 'minNbSurvival' to a lower value.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Iteration: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbIterations: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # experimentsUsed: 494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # timeUsed: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # remainingBudget: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # currentBudget: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # number of elites: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # nbConfigurations: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Total CPU user time: 3.662, CPU sys time: 0.003, Wall-clock time: 3.665</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:57 UTC: Starting post-selection:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Configurations selected: 29, 70, 71, 39, 21, 52.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Pending instances: 0, 0, 0, 0, 0, 0.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:57 UTC: seed: 1278720907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Configurations: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Available experiments: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # minSurvival: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Markers:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      x No test is performed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      c Configurations are discarded only due to capping.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      - The test is performed and some configurations are discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      = The test is performed but no configuration is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      ! The test is performed and configurations could be discarded but elite configurations are preserved.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      . Alive configurations were already evaluated on this instance and nothing is discarded.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      : All alive configurations are elite, but some need to be evaluated on this instance.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | |   Instance|      Alive|       Best|       Mean best| Exp so far|  W time|  rho|KenW|  Qvar|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          3|          6|         29|   0.02340241215|          0|00:00:00|   NA|  NA|    NA|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          1|          6|         29|     1.489983016|          0|00:00:00|-0.60|0.20|1.1563|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          8|          6|         29|     1.018287130|          0|00:00:00|+0.05|0.37|0.7853|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          6|          6|         29|    0.8094184284|          0|00:00:00|+0.01|0.26|0.8946|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          7|          6|         29|    0.6556405605|          0|00:00:00|+0.15|0.32|0.8287|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          4|          6|         29|    0.6097030552|          0|00:00:00|+0.19|0.33|0.8412|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          5|          6|         29|    0.7699649329|          0|00:00:00|+0.11|0.23|0.8135|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |.|          2|          6|         29|    0.6832859696|          0|00:00:00|+0.18|0.29|0.7575|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |=|          9|          6|         29|     2.664461386|          6|00:00:00|+0.07|0.17|0.8242|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-+-----------+-----------+-----------+----------------+-----------+--------+-----+----+------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Best-so-far configuration:          29    mean value:      2.664461386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description of the best-so-far configuration:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    .ID. tmax    temp .PARENT.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   29    5 22.7613       21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # 2026-01-31 15:01:57 UTC: Elite configurations (first number is the configuration ID; listed from best to worst according to the sum of ranks):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tmax    temp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29    5 22.7613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70    6 22.0074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39    3 62.3892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # Total CPU user time: 3.732, CPU sys time: 0.004, Wall-clock time: 3.736</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We can print the best configurations found by irace as follows:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="configurations_print.html">configurations_print</a></span><span class="op">(</span><span class="va">tuned_confs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tmax    temp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29    5 22.7613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70    6 22.0074</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39    3 62.3892</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We can evaluate the quality of the best configuration found by</span></span></span>
<span class="r-in"><span><span class="co">## irace versus the default configuration of the SANN algorithm on</span></span></span>
<span class="r-in"><span><span class="co">## the other 10 instances previously generated.</span></span></span>
<span class="r-in"><span><span class="va">test_index</span> <span class="op">&lt;-</span> <span class="fl">11</span><span class="op">:</span><span class="fl">20</span></span></span>
<span class="r-in"><span><span class="va">test_seeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fl">2147483647L</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">test_index</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">configuration</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">test_index</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">target_runner</span><span class="op">(</span></span></span>
<span class="r-in"><span>                              experiment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>instance <span class="op">=</span> <span class="va">weights</span><span class="op">[</span><span class="va">test_index</span><span class="op">[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                                                seed <span class="op">=</span> <span class="va">test_seeds</span><span class="op">[</span><span class="va">x</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                                                configuration <span class="op">=</span> <span class="va">configuration</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              scenario <span class="op">=</span> <span class="va">scenario</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">getElement</span>, name <span class="op">=</span> <span class="st">"cost"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co">## To do so, first we apply the default configuration of the SANN</span></span></span>
<span class="r-in"><span><span class="co">## algorithm to these instances:</span></span></span>
<span class="r-in"><span><span class="va">default</span> <span class="op">&lt;-</span> <span class="fu">test</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>tmax<span class="op">=</span><span class="fl">10</span>, temp<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## We extract and apply the winning configuration found by irace</span></span></span>
<span class="r-in"><span><span class="co">## to these instances:</span></span></span>
<span class="r-in"><span><span class="va">tuned</span> <span class="op">&lt;-</span> <span class="fu">test</span><span class="op">(</span><span class="fu"><a href="removeConfigurationsMetaData.html">removeConfigurationsMetaData</a></span><span class="op">(</span><span class="va">tuned_confs</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Finally, we can compare using a boxplot the quality obtained with the</span></span></span>
<span class="r-in"><span><span class="co">## default parametrization of SANN and the quality obtained with the</span></span></span>
<span class="r-in"><span><span class="co">## best configuration found by irace.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html" class="external-link">boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>default <span class="op">=</span> <span class="va">default</span>, tuned <span class="op">=</span> <span class="va">tuned</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="irace-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Manuel López-Ibáñez, Jérémie Dubois-Lacoste, Leslie Pérez Cáceres, Thomas Stützle, Mauro Birattari.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

